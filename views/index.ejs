<main>
<form action="/yoga" method="POST">
  <section class="h-100 bg-dark">
    <div class="container py-5 h-100">
      <div class="row d-flex justify-content-center align-items-center h-100">
        <div class="col">
          <div class="card card-registration my-4">
            <div class="row g-0">
              <div class="col-xl-6 d-none d-xl-block">
               <img
                  src="https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-registration/img4.webp" 
                  alt="Sample photo"
                  class="img-fluid"
                  style="
                    border-top-left-radius: 0.25rem;
                    border-bottom-left-radius: 0.25rem;
                  "
                />
              </div>
              <div class="col-xl-6">
                <div class="card-body p-md-5 text-black">
                  <h3 class="mb-5 text-uppercase">Yoga classes registration</h3>

                  <div class="row">
                    <div class="col-md-6 mb-4">
                      <div class="form-outline">
                        <label class="form-label" for="form3Example1m">Name:</label>
                        <input
                                type="text"
                                id="form3Example1m"
                                class="form-control form-control-lg"
                                name="name"
                                placeholder="Enter your name"
                                required
                        />
                                                
                      </div>
                    </div>
                  </div>

                  <div class="form-outline mb-4">
                    <label class="form-label" for="form3Example97">Email ID:</label>
                    <input
                      type="text"
                      id="form3Example97"
                      class="form-control form-control-lg"
                      name="email"
                      required
                    />
                    
                  </div>

                  <div class="form-outline mb-4"> 
                    <label>Age: </label>
                    <input
                      class="form-control form-control-lg"
                      type="number"
                      name="age"
                      min="18"
                      max="65"
                      required
                    />
                  </div>
                
                <div class="row">
                  <div class="col-md-6 mb-4">
                    <label for="batch">Batch_timing</label>
                    <select name="batch" id="batch" class="form-control form-control-lg">
                      <option value="6-7AM">6-7AM</option>
                      <option value="7-8AM">7-8AM</option>
                      <option value="8-9AM">8-9AM</option>
                      <option value="5-6PM">5-6PM</option>
                    </select>
                  </div>
                </div>
                <div id="payment-result"></div>
                <button id="payment-btn" type="button" class="form-control form-control-lg" onclick="checkPayment()">Make Payment</button>
                <button id="submit-btn" class="form-control form-control-lg" disabled>Submit</button>
                  <!-- <div class="row">
                    <div class="col-md-6 mb-4">
                      <select class="select">
                        <option value="1">State</option>
                        <option value="2">Option 1</option>
                        <option value="3">Option 2</option>
                        <option value="4">Option 3</option>
                      </select>
                    </div>
                  </div> -->

                  <!-- <div class="d-flex justify-content-end pt-3">
                    <button type="button" class="btn btn-light btn-lg">
                      Reset all
                    </button>
                    <button type="button" class="btn btn-warning btn-lg ms-2">
                      Submit form
                    </button>
                  </div> -->
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  </form>
  <script>
    const checkPayment = ()=>{
        console.log("here")
        fetch('/checkPayment').then(res => res.json())
        .then(data => {
            if(data.paymentStatus === "complete"){
                document.querySelector("#submit-btn").disabled = false
                document.querySelector("#payment-btn").style.display = 'none'
                console.log(data )
                document.querySelector("#payment-result").innerHTML = data?.message
            }
            else {
                alert("Please complete the payment")
            }
        }).catch(err =>{
            alert("Something went wrong")
        })
    }
  </script>

  <!-- ffff -->
  <!-- <h2>YOGA classes</h2>
  <div>
    <form action="/yoga" method="POST">
      <div>
        <label>Name: </label>
        <input type="text" name="name" placeholder="Enter your name" required />
      </div>
      <div>
        <label>Email_ID: </label>
        <input
          type="email"
          name="email"
          placeholder="Enter your email id"
          required
        />
      </div>
      <div>
        <label>Age: </label>
        <input type="number" name="age" min="18" max="65" required />
      </div>
      <div>
        <label for="batch">Batch_timing</label>
        <select name="batch" id="batch">
          <option value="6-7AM">6-7AM</option>
          <option value="7-8AM">7-8AM</option>
          <option value="8-9AM">8-9AM</option>
          <option value="5-6PM">5-6PM</option>
        </select>
      </div>
      <div>
                <input type="button" value="âœ“ Make Payment" />
            </div> -->

      <!-- <button>Submit</button>
    </form> --> 
  <!-- </div> -->
</main>
